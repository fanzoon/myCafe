CREATE SCHEMA `my_cafe` DEFAULT CHARACTER SET utf8;
create table contacts (id bigint not null auto_increment, name varchar(255), contact_type_id bigint, user_id bigint, primary key (id)) engine=InnoDB;
Hibernate: create table contacts_type (id bigint not null auto_increment, name varchar(255), primary key (id)) engine=InnoDB;
Hibernate: create table deliveries_type (id bigint not null auto_increment, name varchar(255), primary key (id)) engine=InnoDB;
Hibernate: create table dishes (id bigint not null auto_increment, description varchar(255), name varchar(255), price double precision, weight integer not null, dish_category_id bigint, primary key (id)) engine=InnoDB;
Hibernate: create table dishes_categories (id bigint not null auto_increment, activity bit, name varchar(255), number_priority integer, primary key (id)) engine=InnoDB;
Hibernate: create table images (id bigint not null auto_increment, bytes longblob, content_type varchar(255), name varchar(255), original_file_name varchar(255), size bigint, dish_id bigint, primary key (id)) engine=InnoDB;
Hibernate: create table order_status (id bigint not null auto_increment, name varchar(255), primary key (id)) engine=InnoDB;
Hibernate: create table orders (id bigint not null auto_increment, deliveries_type_id bigint, order_status_id bigint, payment_type_id bigint, user_id bigint, primary key (id)) engine=InnoDB;
Hibernate: create table orders_dishes (id bigint not null auto_increment, count integer, dish_id bigint, order_id bigint, primary key (id)) engine=InnoDB;
Hibernate: create table payment_type (id bigint not null auto_increment, name varchar(255), primary key (id)) engine=InnoDB;
Hibernate: create table reviews (id bigint not null auto_increment, mark integer, message varchar(255), dish_id bigint, user_id bigint, primary key (id)) engine=InnoDB;
Hibernate: create table user_roles (id bigint not null auto_increment, role varchar(255), primary key (id)) engine=InnoDB;
Hibernate: create table users (id bigint not null auto_increment, ban CHAR(1), birthday date, date_of_create date, login varchar(255), name varchar(255), password varchar(255), sur_name varchar(255), user_role_id bigint, primary key (id)) engine=InnoDB;
Hibernate: alter table users drop index UK_ow0gan20590jrb00upg3va2fn;
Hibernate: alter table users add constraint UK_ow0gan20590jrb00upg3va2fn unique (login);
Hibernate: alter table contacts add constraint FKbn4rvtiapqm430j8x8y9h2whj foreign key (contact_type_id) references contacts_type (id);
Hibernate: alter table contacts add constraint FKna8bddygr3l3kq1imghgcskt8 foreign key (user_id) references users (id);
Hibernate: alter table dishes add constraint FKfcjx79bqcsbymqxn64dcucrbu foreign key (dish_category_id) references dishes_categories (id);
Hibernate: alter table images add constraint FKedtd63h4lhqsm05mqcmrclpy9 foreign key (dish_id) references dishes (id);
Hibernate: alter table orders add constraint FKtlmhq02qtu970f6elyikg3yvp foreign key (deliveries_type_id) references deliveries_type (id);
Hibernate: alter table orders add constraint FK2n7p8t83wo7x0lep1q06a6cvy foreign key (order_status_id) references order_status (id);
Hibernate: alter table orders add constraint FKduuwd6jwb8wjco3ux6xf779w0 foreign key (payment_type_id) references payment_type (id);
Hibernate: alter table orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users (id);
Hibernate: alter table orders_dishes add constraint FKblakv5a6hr4l3elowikjv08ot foreign key (dish_id) references dishes (id);
Hibernate: alter table orders_dishes add constraint FK6on9jka58uq379lr0ai2o7c6w foreign key (order_id) references orders (id);
Hibernate: alter table reviews add constraint FK4d7oru9qv44238vvop3j6rwx0 foreign key (dish_id) references dishes (id);
Hibernate: alter table reviews add constraint FKcgy7qjc1r99dp117y9en6lxye foreign key (user_id) references users (id);
Hibernate: alter table users add constraint FKsy1luwgtc2qas77si4xlrkjtl foreign key (user_role_id) references user_roles (id);